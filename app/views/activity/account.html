<ion-view view-title="My Profile">
    <ion-nav-buttons side="right">
        <button class="button button-clear button-icon ion-person-add" ng-click="inviteFbFriends()"></button>
    </ion-nav-buttons>
    <ion-content class="has-header">
        <div class="hero" image-lazy-src="{{ coverPhoto }}" image-lazy-background-image="true" image-lazy-loader="bubbles">
            <div ng-if="user" class="content">
                <div class="avatar" style="background-image: url('{{::user.avatar ? user.avatar : '/resources/icon.png'}}');"></div>
                <h3>
                    <i class="icon" ng-class="{'Facebook': 'ion-social-facebook positive-100'}[user.provider]"></i>
                    &nbsp;
                    <a class="light" ng-bind="::user.full_name ? user.full_name : (user.fname + ' ' + user.lname)"></a>
                </h3>
                <h4 class="light" ng-bind="'Foodie'"></h4>
            </div>

            <div ng-if="user" ng-hide="user.id" class="content">
                <a class="button button-calm button-block icon ion-log-in button-large ink-button" ui-sref="signin">
                    Sign in
                </a>
            </div>
        </div>
        <div class="button-bar">
            <a class="button button-raised ink-dark">
                <span class="energized-900">{{::user.followers.length}}</span> Followers
            </a>
            <a class="button button-raised ink-dark">
                <span class="energized-900">{{::user.following.length}}</span> Following
            </a>
        </div>

        <div class="list" ng-if="friends">
            <h4 class="content padding double-padding-x">{{friends.length}} friends on Tabletops</h4>
            <a class="item item-avatar item-button-right" ng-repeat="f in friends">
                <span class="avatar" style="background-image: url('{{::f.target.avatar}}');"></span>
                <h2>
                    <i class="icon ion-social-facebook positive" ng-if="f.facebook"></i>
                    <i class="icon ion-social-windows balanced" ng-if="f.live"></i>
                    <i class="icon ion-social-googleplus energized" ng-if="f.google"></i>
                    &nbsp;
                    {{::f.target.full_name}}
                </h2>
                <p>Foodie</p>
                <!--<button class="button button-balanced">Follow</button>-->
                <!--<button class="button button-balanced-900">unFollow</button>-->
            </a>
        </div>
    </ion-content>
</ion-view>